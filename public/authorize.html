<!doctype html>
<html lang=en>
<head>
    <meta charset=utf-8>
    <title>Authorize</title>
</head>
<body>
<button type=button id="authorize">Click to authorize</button>
<script src="https://p.trellocdn.com/power-up.min.js"></script>
<script>
    const t = window.TrelloPowerUp.iframe({
        appKey: '2e352aee3a879f98d68f78d39c934d6c',
        appName: 'Demo trello power-up'
    });
    t.render(function () {
        document.querySelector("#authorize").addEventListener('click', function () {
            t.getRestApi()
                .authorize({scope: 'read,write', expiration: '1hour'})
                .then(function (t) {
                    alert('Success!');
                });
        }, false);
    });
</script>
</body>
</html>